---
import type { HTMLAttributes } from 'astro/types'
import type { VariantProps } from 'class-variance-authority'
import type { alertVariants } from '@/components/ui/alert/Alert.astro'

import { Alert, AlertTitle, AlertDescription } from '@/components/ui/alert'
import { cn } from '@/lib/utils'

export type Props = HTMLAttributes<'div'> &
  VariantProps<typeof alertVariants> & {
    title: string
  }

const { title, class: className, ...props } = Astro.props
---

<Alert class={cn('bg-surface text-surface-foreground mt-6 w-auto border-none md:-mx-1', className)} {...props}>
  {title && <AlertTitle>{title}</AlertTitle>}
  <slot name="icon" />
  <AlertDescription class="text-card-foreground/80">
    <slot />
  </AlertDescription>
</Alert>
