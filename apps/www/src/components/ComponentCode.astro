---
import GetIconForLanguageExtension from './icons/GetIconForLanguageExtension.astro'
import { CopyButton } from '@/components/CopyButton'

export interface Props {
  title?: string
  language?: string
  collapsible?: boolean
  highlightedCode: string
  code: string
}

const { title, language = 'angular-ts', collapsible, highlightedCode, code } = Astro.props
---

<figure data-rehype-pretty-code-figure="" class="[&>pre]:max-h-96">
  {
    title && (
      <figcaption data-rehype-pretty-code-title="" class="text-code-foreground [&_svg]:text-code-foreground flex items-center gap-2 [&_svg]:size-4 [&_svg]:opacity-70" data-language={language}>
        <GetIconForLanguageExtension language={language} />
        {title}
      </figcaption>
    )
  }
  <CopyButton value={code} client:visible />
  <div set:html={highlightedCode} />
</figure>
